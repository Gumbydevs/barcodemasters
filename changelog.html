<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Barcode Masters Change Log</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            color: #333;
            margin: 0;
            padding: 0;
        }
        .container {
            width: 80%;
            margin: 2rem auto;
            background-color: white;
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        h1 {
            text-align: center;
            font-size: 2rem;
            margin-bottom: 1rem;
        }
        h2 {
            font-size: 1.5rem;
            color: #007BFF;
            margin-top: 1.5rem;
        }
        ul {
            list-style-type: disc;
            margin-left: 2rem;
        }
        li {
            margin-bottom: 0.75rem;
        }
    </style>
</head>
<body>

<div class="container">
    <div class="navigation-grid" style="text-align: left; margin-bottom: 2rem;">
        <button class="nav-button" onclick="location.href='profile.html'">Back to game!</button>
    </div>

    <h2>Changelog for January 14, 2024</h2>
    <h3>Battle System Improvements</h3>
    <ul>
        <li>Enhanced battle system performance and stability</li>
        <li>Fixed image rendering issues on mobile devices</li>
        <li>Improved AI opponent level scaling and balance</li>
        <li>Added hardware acceleration for smoother image display</li>
        <li>Optimized monster image loading and display</li>
        <li>Reduced AI opponent base stats for better early game balance</li>
        <li>Added better error handling for battle rewards</li>
        <li>Improved toast notification system</li>
    </ul>

    <h2>Changelog for January 13, 2024</h2>
    <h3>Enhanced</h3>
    <ul>
        <li><strong>Global Monster Index Improvements:</strong>
            <ul>
                <li>Complete overhaul of global statistics system:
                    <ul>
                        <li>Fixed total monsters count to show accurate global numbers</li>
                        <li>Improved unique types calculation to show true global type count</li>
                        <li>Enhanced stat tracking with detailed ownership information</li>
                        <li>Added proper global vs. individual player statistics</li>
                    </ul>
                </li>
                <li>Statistics Display Improvements:
                    <ul>
                        <li>Added "Most owned by" player details for monster counts</li>
                        <li>Enhanced unique types display with owner distribution</li>
                        <li>Improved clarity of global vs. player-specific stats</li>
                        <li>Updated UI labels to better reflect global nature of statistics</li>
                    </ul>
                </li>
            </ul>
        </li>
        <li><strong>Battle System Updates:</strong>
            <ul>
                <li>Added Attack Power (AP) display in battle interface for better combat clarity</li>
            </ul>
        </li>
        <li><strong>Monster Collection Page Improvements:</strong>
            <ul>
                <li>Added toast notifications for monster actions:
                    <ul>
                        <li>Green success toasts for renaming monsters</li>
                        <li>Red error toasts for deleting monsters</li>
                        <li>Enhanced visual feedback with smooth animations</li>
                    </ul>
                </li>
                <li>Improved refresh functionality:
                    <ul>
                        <li>Automatic page refresh after monster rename</li>
                        <li>Automatic refresh after monster deletion</li>
                        <li>Smoother transition between actions</li>
                    </ul>
                </li>
                <li>Improved UI responsiveness:
                    <ul>
                        <li>Removed full page refresh after renaming monsters</li>
                        <li>Removed full page refresh after deleting monsters</li>
                        <li>Monster list now updates automatically after actions</li>
                        <li>Smoother transition between operations</li>
                    </ul>
                </li>
                <li>Global Monster Index Improvements:
                    <ul>
                        <li>Fixed monster count accuracy in statistics</li>
                        <li>Corrected total monsters display to match actual owned count</li>
                        <li>Improved unique types counting logic</li>
                        <li>Enhanced statistics calculation for current user's monsters</li>
                    </ul>
                </li>
            </ul>
        </li>
        <li><strong>Database Access Rules:</strong>
            <ul>
                <li>Updated Firestore security rules to allow all authenticated users to read monsterType descriptions</li>
                <li>Fixed monster type descriptions not displaying for non-admin users</li>
                <li>Enhanced database security while ensuring proper access to essential game data</li>
            </ul>
        </li>
        <li><strong>Battle System Improvements:</strong>
            <ul>
                <li>AI Opponent Scaling:
                    <ul>
                        <li>Opponents now scale between equal level to 3 levels higher than player</li>
                        <li>Increased base stats for AI opponents (HP: 20, AP: 7, Speed: 6)</li>
                        <li>Improved scaling factors (HP: 25%, AP: 18%, Speed: 12%)</li>
                        <li>More challenging and rewarding battles against higher-level opponents</li>
                    </ul>
                </li>
                <li>Battle Preview System:
                    <ul>
                        <li>Added accurate level display for AI opponents</li>
                        <li>Synchronized AI level between preview and battle</li>
                        <li>Improved opponent stats calculation based on level</li>
                    </ul>
                </li>
                <li>Experience and Level Up System:
                    <ul>
                        <li>Added stacked toast notifications for battle events</li>
                        <li>Yellow toast for level-up notifications</li>
                        <li>Green toast for victory rewards</li>
                        <li>Improved XP bar visualization</li>
                        <li>Added proper XP reset on level-up</li>
                    </ul>
                </li>
            </ul>
        </li>
    </ul>

    <div class="changelog-entry">
        <h3>January 13, 2024</h3>
        <ul>
            <li><strong>DNA Scan System Improvements</strong>
                <ul>
                    <li>Fixed scan limit tracking to use local timezone</li>
                    <li>Automatic cleanup of old scan data</li>
                    <li>Enforced scan limits across all generation methods</li>
                    <li>Properly resets scan count at local midnight</li>
                </ul>
            </li>
            <li><strong>Battle System Updates</strong>
                <ul>
                    <li>Rebalanced AI battles for longer, more strategic encounters</li>
                    <li>Added AI opponent stat visibility for better strategy</li>
                    <li>Adjusted monster XP rewards and battle balancing</li>
                    <li>Fixed victory/defeat handling and XP distribution</li>
                    <li>Added "Start New Battle" button after battle completion</li>
                    <li>Changed failure notifications to red for better visibility</li>
                </ul>
            </li>
            <li><strong>Visual Improvements</strong>
                <ul>
                    <li>Fixed battle container image sizing</li>
                    <li>Added AI robot opponent images</li>
                    <li>Reduced logo size on battle page to improve usability</li>
                    <li>Applied dark mode style fixes for battles</li>
                    <li>Fixed monster image display in battles</li>
                </ul>
            </li>
            <li><strong>Help & Documentation</strong>
                <ul>
                    <li>Added tooltip feature for better user guidance</li>
                    <li>Enhanced scanning technique instructions</li>
                    <li>Enlarged help button on main page</li>
                    <li>Added Discord community links</li>
                </ul>
            </li>
            <li><strong>Bug Fixes</strong>
                <ul>
                    <li>Fixed monster index display and statistics</li>
                    <li>Corrected total global monster count</li>
                    <li>Various battle system bug fixes</li>
                </ul>
            </li>
            <li><strong>Training System Updates</strong>
                <ul>
                    <li>Enhanced toast notifications to include monster names</li>
                    <li>Added personalized training completion messages</li>
                    <li>Improved level-up notifications with monster identification</li>
                    <li>"[MonsterName] has reached level X!" for level ups</li>
                    <li>"[MonsterName] gained X XP and increased [Stat] by Y!" for training completion</li>
                </ul>
            </li>
            <li><strong>Leaderboard System Implementation</strong>
                <ul>
                    <li>Added global leaderboard page with three main categories:
                        <ul>
                            <li>Most Monsters Collected - tracks total monsters, highest level, and unique types</li>
                            <li>Highest Level Monsters - displays top monsters by level with name and type</li>
                            <li>Type Masters - shows players' type collection progress and completion percentage</li>
                        </ul>
                    </li>
                    <li>Enhanced database queries for leaderboard tracking:
                        <ul>
                            <li>Implemented username caching system for better performance</li>
                            <li>Added real-time stat calculations for player rankings</li>
                            <li>Created efficient data aggregation for monster statistics</li>
                        </ul>
                    </li>
                    <li>Visual Presentation:
                        <ul>
                            <li>Styled rankings with gold, silver, and bronze highlighting</li>
                            <li>Responsive design for mobile and desktop viewing</li>
                            <li>Dark mode support with proper contrast</li>
                        </ul>
                    </li>
                    <li>Hourly leaderboard updates to maintain competitive accuracy</li>
                </ul>
            </li>
        </ul>
    </div>

    <h3>Fixed</h3>
    <ul>
        <li><strong>Global Statistics Accuracy:</strong>
            <ul>
                <li>Fixed incorrect total monster count calculation</li>
                <li>Corrected unique types counting system</li>
                <li>Resolved ownership attribution issues</li>
                <li>Fixed stats display inconsistencies between global and personal counts</li>
            </ul>
        </li>
        <li><strong>Monster Collection UI Issues:</strong>
            <ul>
                <li>Fixed monster list not updating after rename action</li>
                <li>Resolved refresh issues after monster deletion</li>
                <li>Improved error handling during monster operations</li>
                <li>Enhanced user feedback for failed operations</li>
                <li>Fixed incorrect monster count in Global Monster Index</li>
                <li>Corrected statistics to show accurate monster ownership data</li>
            </ul>
        </li>
    </ul>

    <h2>Changelog for January 12, 2024</h2>
    <h3>Added</h3>
    <ul>
        <li><strong>DNA Extractor Real-time Updates:</strong>
            <ul>
                <li>Added automatic scan limit refresh every 30 seconds</li>
                <li>Implemented real-time scan limit updates after monster generation</li>
                <li>Enhanced feedback system for remaining daily scans</li>
                <li>Added scan limit refresh on page navigation</li>
            </ul>
        </li>
        <li><strong>DNA Extractor Improvements:</strong>
            <ul>
                <li>Added retry functionality for failed monster image generation</li>
                <li>Implemented delete option for failed monsters</li>
                <li>Enhanced error recovery system with automatic database cleanup</li>
                <li>Added visual feedback during retry attempts</li>
                <li>Improved model switching logic during retries</li>
            </ul>
        </li>
        <li><strong>Account System Overhaul:</strong>
            <ul>
                <li>Implemented tiered account system:
                    <ul>
                        <li>Free accounts: Limited daily DNA extractions</li>
                        <li>Premium accounts: Increased daily DNA extractions</li>
                        <li>VIP accounts: Maximum daily DNA extractions</li>
                    </ul>
                </li>
                <li>Added daily scan limit tracking and reset system</li>
                <li>Created persistent scan limit counter across sessions</li>
            </ul>
        </li>
        <li><strong>New User Database Structure:</strong>
            <ul>
                <li>Automatic user document creation upon first login</li>
                <li>Default field initialization for new accounts:
                    <ul>
                        <li>accountType: 'free'</li>
                        <li>dailyScanLimit: 3</li>
                        <li>dailyScans: {}</li>
                        <li>usedHash: []</li>
                        <li>username</li>
                        <li>email</li>
                        <li>registrationDate</li>
                    </ul>
                </li>
                <li>Added data validation and sanitization for user fields</li>
            </ul>
        </li>
        <li><strong>Login System Enhancements:</strong>
            <ul>
                <li>Improved error handling during authentication</li>
                <li>Added automatic database field verification</li>
                <li>Enhanced session management and persistence</li>
                <li>Implemented proper logout cleanup</li>
            </ul>
        </li>
        <li><strong>User Experience Improvements:</strong>
            <ul>
                <li>Added visual scan limit counter</li>
                <li>Enhanced feedback for remaining daily scans</li>
                <li>Implemented clear error messages for scan limit exceeded</li>
                <li>Added account upgrade prompts for free users</li>
            </ul>
        </li>
        <li><strong>Battle System Improvements:</strong>
            <ul>
                <li>Fixed experience gain/loss system in battles</li>
                <li>Added proper authentication checks for battle rewards</li>
                <li>Implemented immediate victory detection at 0 HP</li>
                <li>Enhanced battle log messages for experience gains</li>
                <li>Added detailed console logging for debugging</li>
            </ul>
        </li>
    </ul>

    <h2>Changelog for January 12, 2024 (Update 2)</h2>
    <h3>Added</h3>
    <ul>
        <li><strong>Battle System Enhancements:</strong>
            <ul>
                <li>Implemented new XP calculation system:
                    <ul>
                        <li>Base XP of 25 points per victory</li>
                        <li>Level bonus of 7.5 XP per enemy level</li>
                        <li>Random variation of -5 to +5 XP for unpredictability</li>
                        <li>More dynamic XP rewards based on opponent difficulty</li>
                    </ul>
                </li>
                <li>Added proper experience tracking and display during battles</li>
                <li>Enhanced battle log with centered text and emoji indicators</li>
                <li>Implemented toast notifications for battle outcomes:
                    <ul>
                        <li>Green success toasts for victories</li>
                        <li>Red error toasts for defeats</li>
                        <li>Clear XP gain/loss feedback</li>
                    </ul>
                </li>
            </ul>
        </li>
        <li><strong>Training System Improvements:</strong>
            <ul>
                <li>Added stacked toast notifications for training events:
                    <ul>
                        <li>Yellow toasts for level-up notifications</li>
                        <li>Green toasts for training completion</li>
                        <li>Visual hierarchy with level-up appearing above training completion</li>
                    </ul>
                </li>
            </ul>
        </li>
        <li><strong>UI/UX Improvements:</strong>
            <ul>
                <li>Added real-time experience display in battle interface</li>
                <li>Enhanced feedback system for player actions</li>
                <li>Improved visibility of battle status and outcomes</li>
            </ul>
        </li>
    </ul>

    <h3>Fixed</h3>
    <ul>
        <li><strong>Battle System Fixes:</strong>
            <ul>
                <li>Resolved experience not updating during battles</li>
                <li>Fixed initial experience display showing 0 at battle start</li>
                <li>Corrected experience tracking and updates throughout battle</li>
                <li>Fixed database synchronization for experience changes</li>
            </ul>
        </li>
        <li><strong>Training System Fixes:</strong>
            <ul>
                <li>Improved toast notification stacking and timing</li>
                <li>Enhanced visual feedback for training completion</li>
                <li>Fixed level-up detection and notification system</li>
            </ul>
        </li>
    </ul>

    <h3>Updated</h3>
    <ul>
        <li><strong>Balance Changes:</strong>
            <ul>
                <li>Rebalanced experience gain formula for better progression</li>
                <li>Adjusted level-up thresholds and rewards</li>
                <li>Fine-tuned battle reward system</li>
            </ul>
        </li>
        <li><strong>Visual Improvements:</strong>
            <ul>
                <li>Enhanced battle log readability</li>
                <li>Improved toast notification visibility</li>
                <li>Updated feedback message styling</li>
            </ul>
        </li>
    </ul>

    <h3>Enhanced</h3>
    <ul>
        <li><strong>User Experience Improvements:</strong>
            <ul>
                <li>Improved scan limit counter visibility and accuracy</li>
                <li>Added automatic refresh of scan limits after successful monster generation</li>
                <li>Enhanced user feedback for remaining daily extractions</li>
                <li>Implemented background refresh system for scan limit display</li>
            </ul>
        </li>
        <li><strong>Battle System Features:</strong>
            <ul>
                <li>Improved experience calculation based on opponent level</li>
                <li>Enhanced battle log visibility and formatting</li>
                <li>Added real-time stat updates after level ups</li>
                <li>Improved victory/defeat detection system</li>
                <li>Enhanced feedback messages for battle outcomes</li>
            </ul>
        </li>
    </ul>

    <h3>Fixed</h3>
    <ul>
        <li><strong>DNA Extractor Issues:</strong>
            <ul>
                <li>Fixed scan limit display not updating after monster generation</li>
                <li>Resolved issue with stale scan limit data after page refresh</li>
                <li>Corrected scan limit counter accuracy across sessions</li>
                <li>Improved database synchronization for scan limit tracking</li>
            </ul>
        </li>
        <li><strong>Database Issues:</strong>
            <ul>
                <li>Resolved missing user document creation on first login</li>
                <li>Fixed inconsistent field initialization</li>
                <li>Corrected transaction handling for scan limit updates</li>
                <li>Improved error recovery for failed database operations</li>
            </ul>
        </li>
        <li><strong>Authentication Flow:</strong>
            <ul>
                <li>Fixed session persistence issues</li>
                <li>Corrected redirect handling after login</li>
                <li>Improved error messaging for failed logins</li>
                <li>Enhanced security checks for protected routes</li>
            </ul>
        </li>
        <li><strong>Battle System Issues:</strong>
            <ul>
                <li>Fixed experience not being awarded after victories</li>
                <li>Corrected battle outcome detection timing</li>
                <li>Resolved authentication issues during experience updates</li>
                <li>Fixed monster stat updates after leveling up</li>
                <li>Corrected victory condition checking at 0 HP</li>
            </ul>
        </li>
    </ul>

    <h2>Changelog for January 11, 2024</h2>
    <h3>Fixed</h3>
    <ul>
        <li><strong>DNA Scanner Functionality:</strong>
            <ul>
                <li>Restored barcode and QR code scanning functionality</li>
                <li>Fixed camera initialization issues</li>
                <li>Simplified scanner configuration for better reliability</li>
                <li>Improved error handling during scanning process</li>
                <li>Enhanced video stream management</li>
            </ul>
        </li>
        <li><strong>Scanner Performance:</strong>
            <ul>
                <li>Optimized camera stream cleanup</li>
                <li>Improved scanner reset functionality</li>
                <li>Enhanced device selection for better camera handling</li>
                <li>Reduced memory usage during scanning</li>
            </ul>
        </li>
    </ul>

    <h3>Enhanced</h3>
    <ul>
        <li><strong>User Interface:</strong>
            <ul>
                <li>Updated scanning guide text for better clarity</li>
                <li>Enhanced scanning feedback messages</li>
                <li>Improved visual scanning guides</li>
                <li>Added more descriptive scanning instructions</li>
            </ul>
        </li>
    </ul>
    
    <h1>Barcode Masters Change Log</h1>

    <h2>Changelog for January 11, 2024</h2>
    <h3>Added</h3>
    <ul>
        <li><strong>Enhanced AI Image Generation Status:</strong>
            <ul>
                <li>Added detailed loading status messages during monster image generation</li>
                <li>Implemented clearer user instructions about waiting times</li>
                <li>Added information about multiple AI model attempts</li>
                <li>Improved visual feedback during generation process</li>
            </ul>
        </li>
        <li><strong>Multi-Model AI Generation System:</strong>
            <ul>
                <li>Added multiple AI model fallback system</li>
                <li>Implemented automatic retries with different models</li>
                <li>Enhanced error handling and recovery</li>
                <li>Added exponential backoff for retries</li>
            </ul>
        </li>
        <li><strong>Database Image Integration:</strong>
            <ul>
                <li>Successfully implemented saving of AI-generated monster profile images to Firebase</li>
                <li>Added monster image retrieval from database across multiple pages</li>
                <li>Implemented fallback placeholder system for failed image loads</li>
                <li>Enhanced storage bucket configuration for new database setup</li>
            </ul>
        </li>
        <li><strong>Monster Generation Improvements:</strong>
            <ul>
                <li>Enhanced prompt generation system to avoid duplicate type descriptions</li>
                <li>Added negative characteristic system for low-stat monsters:
                    <ul>
                        <li>HP < 8: Displays as frail frame, thin body structure</li>
                        <li>AP < 5: Shows diminutive appearance, non-threatening</li>
                        <li>Speed < 3: Appears with bulky, cumbersome form</li>
                    </ul>
                </li>
                <li>Improved AI prompt formatting for more consistent results</li>
                <li>Better visual representation of monster stats in generated images</li>
            </ul>
        </li>
        <li><strong>AI Prompt Generation System Overhaul:</strong>
            <ul>
                <li>Enhanced anti-cropping measures with triple-parentheses weighting</li>
                <li>Added comprehensive text and logo prevention system:
                    <ul>
                        <li>Strengthened negative prompts for text, words, letters, and writing</li>
                        <li>Added explicit prevention of watermarks, signatures, and brand marks</li>
                        <li>Implemented layered protection against logos and copyright marks</li>
                    </ul>
                </li>
                <li>Improved framing and composition rules:
                    <ul>
                        <li>Added "complete full body shot" requirement</li>
                        <li>Enforced "entire creature visible" parameter</li>
                        <li>Added "fits completely in frame" specification</li>
                        <li>Enhanced centering with "subject fully centered" directive</li>
                        <li>Added "clear empty space around subject" requirement</li>
                    </ul>
                </li>
                <li>Improved prompt organization:
                    <ul>
                        <li>Grouped negative prompts by category for better effect</li>
                        <li>Separated composition rules from style requirements</li>
                        <li>Enhanced prompt debugging and verification system</li>
                    </ul>
                </li>
            </ul>
        </li>
    </ul>

    <h3>Updated</h3>
    <ul>
        <li><strong>User Interface Improvements:</strong>
            <ul>
                <li>Enhanced loading state visuals during image generation</li>
                <li>Added more informative progress messages</li>
                <li>Improved error messaging for failed generations</li>
            </ul>
        </li>
        <li><strong>Monster Display Enhancements:</strong>
            <ul>
                <li>Updated battle preview page placeholders</li>
                <li>Enhanced monster select page with database-sourced images</li>
                <li>Improved global monster index image display system</li>
                <li>Enhanced createMonsterCard function with improved image support</li>
                <li>Added responsive image containers across all monster pages</li>
            </ul>
        </li>
        <li><strong>System Updates:</strong>
            <ul>
                <li>Updated scanner feature text for better usability</li>
                <li>Added version number display on DNA page</li>
                <li>Conducted live testing of DNA image generation with database saving</li>
            </ul>
        </li>
    </ul>

    <h2>Changelog for January 10, 2024 v2</h2>
    <h3>Added</h3>
    <ul>
        <li><strong>Monster Card Visual Enhancements:</strong>
            <ul>
                <li>Implemented new placeholder system between monster name and type</li>
                <li>Added Japanese oni/ogre emoji (👹) to replace generic game controller</li>
                <li>Created responsive placeholder with semi-transparent background</li>
                <li>Added subtle borders for better visual definition</li>
            </ul>
        </li>
        <li><strong>Monster Type Description System:</strong>
            <ul>
                <li>Implemented getMonsterTypeDescription function to fetch descriptions from monsterTypes collection</li>
                <li>Added description caching system to optimize Firestore queries</li>
                <li>Enhanced monster card template with type description display</li>
                <li>Implemented new styling for type description presentation</li>
            </ul>
        </li>
        <li><strong>MVP Monster Showcase:</strong> Enhanced profile display to showcase the user's highest level monster, including comprehensive statistics such as total wins and accumulated experience points.</li>
        <li><strong>Battle System Enhancements:</strong>
            <ul>
                <li>Added critical hit system with visual effects and multiplier damage</li>
                <li>Implemented emoji-based visual response system for battle actions</li>
                <li>Created battle matchup preview card system before battle initiation</li>
                <li>Enhanced battle balance with adjusted damage calculations</li>
            </ul>
        </li>
        <li><strong>Monster Stat Training Duration System:</strong> A new function was introduced to calculate stat training duration based on the monster's current stat value. This function uses exponential growth for the training time (1.15^(stat/5)) and includes random variation. For example:
            <ul>
                <li>Monster Stats 0-5: 15-30 seconds stat training time (± random variation)</li>
                <li>Monster Stats 5-10: 1-2 minutes stat training time (± random variation)</li>
                <li>Monster Stats 10-30: Linear stat training progression (with maximum cap at 4 hours for stats 100+)</li>
                <li>Monster Stats 30-60+: Stat training time grows up to 8 hours, with increasing times for higher stats</li>
            </ul>
        </li>
        <li><strong>Monster Stat Training Progress Persistence:</strong> Stat training state is stored in localStorage, allowing monster training progress to persist across sessions. The stat training resumes automatically after page reloads, navigation, or even after logging out.</li>
        <li><strong>Improved Monster Training UI Flow:</strong> The stat training progress bar and timer now display the dynamically calculated training duration. Stat training time is updated in real-time, and the UI is properly restored when returning to the page during ongoing monster training.</li>
        <li><strong>Monster Generation Balancing:</strong>
            <ul>
                <li>Base Stats Adjustments:
                    <ul>
                        <li>Lowered base HP range from 5-50 to 3-20</li>
                        <li>Lowered base AP range from 1-30 to 1-12</li>
                        <li>Lowered base Speed range from 1-20 to 1-8</li>
                    </ul>
                </li>
                <li>Level-Up Stat Multipliers:
                    <ul>
                        <li>Reduced stat multipliers from 30% to:
                            <ul>
                                <li>20% for HP</li>
                                <li>15% for AP</li>
                                <li>10% for Speed</li>
                            </ul>
                        </li>
                    </ul>
                </li>
            </ul>
        </li>
        <li><strong>DNA Extractor - AI Image Generation:</strong>
            <ul>
                <li>Integrated Hugging Face's Stable Diffusion API (stable-diffusion-2-1 model)</li>
                <li>Implemented automatic image generation post barcode/QR scan</li>
                <li>Added dynamic prompt generation based on:
                    <ul>
                        <li>Monster attributes and type descriptions</li>
                        <li>Stats influence on appearance</li>
                        <li>Special effects for higher-level monsters</li>
                    </ul>
                </li>
                <li>Image Container Improvements:
                    <ul>
                        <li>Standardized container size to perfect 280x280 square</li>
                        <li>Generated AI images at 280x280 pixels for better performance</li>
                        <li>Applied object-fit: contain for complete image display</li>
                        <li>Centered container with margin: auto</li>
                        <li>Consistent border radius and styling across themes</li>
                    </ul>
                </li>
                <li>Enhanced AI Generation System:
                    <ul>
                        <li>Created detailed, type-specific creature descriptions</li>
                        <li>Improved utilization of monster name and type data</li>
                        <li>Added stat-based physical characteristics</li>
                        <li>Structured prompts for full-body creature designs</li>
                        <li>Enhanced style modifiers for higher quality results</li>
                        <li>Expanded negative prompts to prevent common issues</li>
                        <li>Increased steps and guidance scale for better quality</li>
                    </ul>
                </li>
                <li>Model and Error Handling:
                    <ul>
                        <li>Implemented multiple model options with fallback system</li>
                        <li>Set DreamShaper as primary model with proper path reference</li>
                        <li>Added 'prompthero/openjourney-v4' as fallback option</li>
                        <li>Increased retry limit to 5 attempts</li>
                        <li>Enhanced error handling and messaging</li>
                        <li>Added comprehensive prompt and error logging</li>
                        <li>Improved handling for service unavailability</li>
                    </ul>
                </li>
                <li>Technical Improvements:
                    <ul>
                        <li>Firebase storage integration for generated images</li>
                        <li>30-second timeout with 2 retry attempts</li>
                        <li>Robust error handling and user feedback</li>
                        <li>Loading state indicators during generation</li>
                    </ul>
                </li>
            </ul>
        </li>
    </ul>

    <h3>Updated</h3>
    <ul>
        <li><strong>Card Layout Improvements:</strong>
            <ul>
                <li>Enhanced placeholder visibility with contrasting backgrounds</li>
                <li>Optimized text readability across both theme modes</li>
                <li>Improved mobile responsiveness with adjusted spacing and font sizes</li>
                <li>Standardized card heights and spacing in grid layouts</li>
                <li>Refined button spacing for mobile interfaces</li>
            </ul>
        </li>
        <li><strong>Train Monster Page Enhancements:</strong>
            <ul>
                <li>Updated monster card formatting</li>
                <li>Implemented placeholder system consistency</li>
                <li>Added monster type descriptions</li>
            </ul>
        </li>
        <li><strong>UI/UX Improvements:</strong>
            <ul>
                <li>Enhanced stat box visibility across light and dark modes on the monster-index page</li>
                <li>Optimized stat number visibility in monster-collection page for both themes</li>
                <li>Maintained heading color consistency while improving overall contrast</li>
                <li>Refined type description layout and presentation</li>
            </ul>
        </li>
        <li><strong>Monster Stat Training Time Display:</strong> The training time display now includes seconds, with updates every 100ms for smoother countdowns. The format is as follows:
            <ul>
                <li>"Xs" for stat training times under a minute</li>
                <li>"Xm Ys" for stat training times under an hour</li>
                <li>"Xh Ym Zs" for stat training durations of hours or more</li>
            </ul>
        </li>
        <li><strong>Improved Formatting for Longer Training Durations:</strong> Added better time formatting for longer stat training durations (more than 1 hour). This includes training time for monster stats 50 and above, with the expected stat training times now shown more accurately.</li>
    </ul>

    <h3>Fixed</h3>
    <ul>
        <li><strong>Permission and Layout Issues:</strong>
            <ul>
                <li>Resolved owner permissions issues on training page</li>
                <li>Fixed card overflow issues in grid layouts</li>
                <li>Corrected placeholder alignment and spacing</li>
            </ul>
        </li>
        <li><strong>General Fixes:</strong>
            <ul>
                <li>Removed erroneous changelog elements for improved accuracy</li>
                <li>Corrected text contrast issues in various UI components</li>
            </ul>
        </li>
        <li><strong>Monster Training Section Visibility:</strong> Ensured that the stat training section is visible when resuming monster training, even after a page reload.</li>
        <li><strong>Training UI Restoration:</strong> Fixed issues related to restoring the monster stat training UI state properly when returning to the page.</li>
        <li><strong>Handling User Actions During Monster Training:</strong> Improved handling of page refreshes, navigation, and even logging out, so the monster stat training state persists and resumes correctly.</li>
    </ul>

    <h3>Known Issues</h3>
    <ul>
        <li><strong>Monster Stat Training Time Randomization:</strong> The ±15% random variation applied to stat training times for monster stats 0-5 and 5-10 may lead to slightly inconsistent training times, though this variation helps simulate more realistic training scenarios.</li>
        <li><strong>Cross-Device Training Persistence:</strong> Currently, monster training progress is stored in localStorage, which means training sessions cannot persist across multiple devices. This will be addressed in a future update by moving to database storage for full cross-device persistence.</li>
        <li><strong>AI Image Generation:</strong> Initial image generation may take up to 30 seconds. Caching and optimization improvements are planned for future updates.</li>
    </ul>

    <h3>UI Improvements</h3>
    <ul>
        <li><strong>Select Monster Page Updates:</strong>
            <ul>
                <li>Centered "Select Your Monster for Battle" text for better visual alignment</li>
                <li>Added getUsernameById function to fetch and display owner usernames</li>
                <li>Added formatDate function for consistent date formatting across cards</li>
                <li>Updated monster card creation to include XP progress bar, experience points, creation date, and owner info</li>
                <li>Added new CSS styles for XP progress bar and type badge</li>
                <li>Modified loadMonsters to handle async owner username fetching</li>
                <li>Added getDoc import from Firebase for enhanced data fetching</li>
            </ul>
        </li>
        <li><strong>Monster Collection Page Enhancements:</strong>
            <ul>
                <li>Added XP progress bar styles matching the collection page style</li>
                <li>Updated createMonsterCard function with XP progress bar visualization</li>
                <li>Added XP text style for clear experience number display</li>
                <li>Implemented level-based XP calculation (level * 100 for next level)</li>
                <li>Added fallback handling for undefined experience values</li>
                <li>Enhanced visual consistency across monster cards</li>
            </ul>
        </li>
    </ul>

    <h2>Changelog for January 9, 2024</h2>
    <h3>Added</h3>
    <ul>
        <li>Basic Battle System.</li>
        <li>Created a mock up battle page and system with basic battle feedback, functions, attack, defend, heal.</li>
        <li>Initialized and configured backend database to support battle functionality.</li>
        <li>Implemented basic Ai opponent with random actions.</li>
        <li>Created updateMonsterExperience function to manage XP changes during battles.</li>
        <li>Added a weighted action system for AI opponents (70% attack, 20% heal, 10% defend) on the battle page.</li>
        <li>Implemented experience feedback in the battle log for clearer progress tracking.</li>
    </ul>

    <h3>Fixed</h3>
    <ul>
        <li>Resolved issues with defending functionality, ensuring damage is properly halved during battles.</li>
        <li>Corrected win/lose logic by ensuring health updates are accurately checked after each turn.</li>
        <li>Tweaked opponent health management to improve battle outcomes and ensure smoother gameplay.</li>
    </ul>

    <h3>Updated</h3>
    <ul>
        <li>Modified healing logic on the battle page to heal 20% of max HP, improving both AI and player healing mechanisms.</li>
        <li>Enhanced battle log messages to display actual healing amounts, making feedback more informative.</li>
        <li>Improved dark mode styling for the battle container, including mobile-specific adjustments for better visibility.</li>
        <li>Refined the user experience on mobile with adjustments to padding, opacity, and contrast for the battle log.</li>
    </ul>

    <h3>Moved</h3>
    <ul>
        <li>Repositioned the "Back to Profile" button for better user navigation during battles.</li>
    </ul>

    <h3>Changed</h3>
    <ul>
        <li>Major formatting updates for the monster selection and battle initiation screens, addressing some defending action issues.</li>
        <li>Improved consistency in background colors between mobile and desktop versions for a cohesive visual experience.</li>
    </ul>

    <hr style="margin: 2rem 0;">

    <h2>First Live Version 1.0.03 - Alpha Development Release</h2>
    <ul>
        <li><strong>First commit</strong>: Basic project setup with main page structure and initial files.</li>
    </ul>

    <h2>Version Updates & Bug Fixes</h2>
    <ul>
        <li><strong>V6</strong> of the DNA Extractor/Monster Generator released, incorporating improvements in dynamic monster generation for name generation, stats, monster types.</li>
        <ul>
            <li>Generates unique monsters based on barcode hash seeds.</li>
            <li>Moved monster types definitions to the database for scalability.</li>
            <li>Generator now pulls monster type from the database which are randomized by code seed.</li>
            <li>Stats are generated within speciified clamped ranges and influenced by code seed + unique monster type stat modifiers.</li>
            <li>Duplicate code scans detection, codes can be scanned once per user if the monster exists in their collection.</li>
            <li>Monsters now correctly saving to user's collection.</li>
        </ul>
        <p></p>
        <li><strong>Version Number Updates</strong> across multiple pages for consistency and better version tracking.</li>
        <li><strong>Debugging Issues Resolved</strong>: Fixes applied for Firebase connections, user login, and database interactions. Debug logs improved for tracking errors.</li>
        <li><strong>Favicon and Branding Updates</strong>: Fixed favicon across all pages and updated branding elements for consistency.</li>
        <li><strong>Mobile & Desktop Adjustments</strong>: Implemented responsive design fixes to ensure seamless user experience across both mobile and desktop devices.</li>
    </ul>

    <h2>Monster Management & Admin Tools</h2>
    <ul>
        <li><strong>Dynamic Monster Generation</strong>: Enhanced with the ability to pull data from the database, allowing for dynamic creation of monsters based on barcode input and seeds.</li>
        <li><strong>Admin Tool for Managing Monster Types</strong>: Admin interface created for managing monster types, including bug fixes and UI improvements for easier navigation and updates.</li>
        <li><strong>Unique Monster Stats & Barcode Seeds</strong>: Integrated barcode seed functionality, allowing each monster to have stats and traits based on unique barcode hashes.</li>
        <li><strong>Monster Collection Page</strong>: Improved UI for managing monsters, including options for renaming, deleting, and updating monster stats. Enhanced sorting and filtering functionalities.</li>
        <li><strong>Global Monster Index Page</strong>: Improved UI for viewing all monsters in the game, displaying their info and owner with search and filter options for exploring the full monster collection.</li>
        <li><strong>Database Setup for Monster Data</strong>: Refined database structure to handle monster data more efficiently, including creating unique IDs for each monster and associating them with player accounts.</li>
    </ul>

    <h2>Training & Battle System</h2>
    <ul>
        <li><strong>Training Page Layout & Functionality</strong>: Further refinement of the training system, with clearer dropdowns and better alignment for stat selection.</li>
        <li><strong>Stat Increase Mechanism</strong>: Integrated logic to adjust monster stats based on training results, factoring in monster types and training duration.</li>
        <li><strong>Battle System Development</strong>: Progress on turn-based battle mechanics, with initial implementation of randomized events to keep battles engaging and unpredictable.</li>
    </ul>

    <h2>Login & User Authentication</h2>
    <ul>
        <li><strong>Firebase User Authentication</strong>: Integrated Firebase for user registration and login, including handling user IDs and ensuring secure database connections for user-specific data.</li>
        <li><strong>Unique User IDs</strong>: Each player now receives a unique user ID upon registration, enabling personalized gameplay and monster collection.</li>
    </ul>

    <h2>Permissions & Security</h2>
    <ul>
        <li><strong>Camera Permissions</strong>: Fixed issues related to camera permissions for barcode scanning, ensuring the camera works consistently across different devices and browsers.</li>
        <li><strong>Permissions Management</strong>: Improved permission handling for accessing device hardware, including adding error messages for users who deny camera access.</li>
    </ul>

    <h2>User Interface & Style</h2>
    <ul>
        <li><strong>Dark Mode Enhancements</strong>: Refinement of dark mode styling, ensuring consistent user interface behavior across various pages.</li>
        <li><strong>Button & Link Styling</strong>: Update of button styles, including alignment and enhanced functionality for the DNA Extractor tool and player profile page.</li>
        <li><strong>Help Pages & Tooltips</strong>: Updated help texts and tooltips across the site, adding clearer instructions for new users. A new help button was added to the login page for improved guidance.</li>
    </ul>

    <h2>Miscellaneous Enhancements</h2>
    <ul>
        <li><strong>Monster Type Modifiers</strong>: Additional logic added for modifying monster stats based on type, with different effects based on the monster’s unique barcode hash.</li>
        <li><strong>Database Cleanup</strong>: Overhaul of database setup, including cleaning up redundant data and optimizing for faster query execution related to player and monster data.</li>
        <li><strong>Debugging Tools</strong>: Added more detailed debugging toggles to help troubleshoot issues with player data, monster generation, and database syncing.</li>
        <li><strong>New Barcode Libraries</strong>: Added new barcode scanning libraries to improve the accuracy and speed of barcode recognition, supporting more formats.</li>
    </ul>
    <div class="navigation-grid">
        <button class="nav-button" onclick="location.href='profile.html'">Back to game!</button>
    </div>
</div>

</body>
</html>
